{"remainingRequest":"E:\\vuepress-vdoing-blog\\node_modules\\babel-loader\\lib\\index.js??ref--3-1!E:\\vuepress-vdoing-blog\\node_modules\\vuepress-plugin-fulltext-search\\services\\flexsearchSvc.js","dependencies":[{"path":"E:\\vuepress-vdoing-blog\\node_modules\\vuepress-plugin-fulltext-search\\services\\flexsearchSvc.js","mtime":1642945471916},{"path":"E:\\vuepress-vdoing-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1640456693969},{"path":"E:\\vuepress-vdoing-blog\\node_modules\\babel-loader\\lib\\index.js","mtime":1640456693110}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJFOlxcdnVlcHJlc3MtdmRvaW5nLWJsb2dcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXHRvQ29uc3VtYWJsZUFycmF5LmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkU6XFx2dWVwcmVzcy12ZG9pbmctYmxvZ1xcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkU6XFx2dWVwcmVzcy12ZG9pbmctYmxvZ1xcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZsYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS51bnNjb3BhYmxlcy5mbGF0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmV2ZXJ5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluZGV4LW9mLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubGFzdC1pbmRleC1vZi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiOwppbXBvcnQgRmxleHNlYXJjaCBmcm9tICdmbGV4c2VhcmNoJzsgLy8gVXNlIHdoZW4gZmxleFNlYXJjaCB2MC43LjAgd2lsbCBiZSBhdmFpbGFibGUKLy8gaW1wb3J0IGN5cmlsbGljQ2hhcnNldCBmcm9tICdmbGV4c2VhcmNoL2Rpc3QvbGFuZy9jeXJpbGxpYy9kZWZhdWx0Lm1pbi5qcycKLy8gaW1wb3J0IGNqa0NoYXJzZXQgZnJvbSAnZmxleHNlYXJjaC9kaXN0L2xhbmcvY2prL2RlZmF1bHQubWluLmpzJwoKaW1wb3J0IF8gZnJvbSAnbG9kYXNoJzsKdmFyIGluZGV4ID0gbnVsbDsKdmFyIGN5cmlsbGljSW5kZXggPSBudWxsOwp2YXIgY2prSW5kZXggPSBudWxsOwp2YXIgcGFnZXNCeVBhdGggPSBudWxsOwp2YXIgY2prUmVnZXggPSAvW1x8XHUzMTMxLVx1MzE2M1x1QUMwMC1cdUQ3QTNdfFtcdTM0MDAtXHU0REI1XHU0RTAwLVx1OUZDQ1x1RkEwRVx1RkEwRlx1RkExMVx1RkExM1x1RkExNFx1RkExRlx1RkEyMVx1RkEyM1x1RkEyNFx1RkEyNy1cdUZBMjldfCg/OltcdUQ4NDAtXHVEODY4XSg/IVtcdURDMDAtXHVERkZGXSkpKD86KD86W15cdUQ4MDAtXHVEQkZGXXxeKVtcdURDMDAtXHVERkZGXSl8KD86XHVEODY5KD8hW1x1REMwMC1cdURGRkZdKSkoPzooPzpbXlx1RDgwMC1cdURCRkZdfF4pW1x1REMwMC1cdURFRDZcdURGMDAtXHVERkZGXSl8KD86W1x1RDg2QS1cdUQ4NkNdKD8hW1x1REMwMC1cdURGRkZdKSkoPzooPzpbXlx1RDgwMC1cdURCRkZdfF4pW1x1REMwMC1cdURGRkZdKXwoPzpcdUQ4NkQoPyFbXHVEQzAwLVx1REZGRl0pKSg/Oig/OlteXHVEODAwLVx1REJGRl18XilbXHVEQzAwLVx1REYzNFx1REY0MC1cdURGRkZdKXwoPzpcdUQ4NkUoPyFbXHVEQzAwLVx1REZGRl0pKSg/Oig/OlteXHVEODAwLVx1REJGRl18XilbXHVEQzAwLVx1REMxRF0pfFtcdTMwNDEtXHUzMDk2XXxbXHUzMEExLVx1MzBGQV0vZ2k7CmV4cG9ydCBkZWZhdWx0IHsKICBidWlsZEluZGV4OiBmdW5jdGlvbiBidWlsZEluZGV4KGFsbFBhZ2VzLCBvcHRpb25zKSB7CiAgICB2YXIgcGFnZXMgPSBhbGxQYWdlcy5maWx0ZXIoZnVuY3Rpb24gKHApIHsKICAgICAgcmV0dXJuICFwLmZyb250bWF0dGVyIHx8IHAuZnJvbnRtYXR0ZXIuc2VhcmNoICE9PSBmYWxzZTsKICAgIH0pOwogICAgdmFyIGluZGV4U2V0dGluZ3MgPSB7CiAgICAgIGVuY29kZTogb3B0aW9ucy5lbmNvZGUgfHwgJ3NpbXBsZScsCiAgICAgIHRva2VuaXplOiBvcHRpb25zLnRva2VuaXplIHx8ICdmb3J3YXJkJywKICAgICAgc3BsaXQ6IG9wdGlvbnMuc3BsaXQgfHwgL1xXKy8sCiAgICAgIGFzeW5jOiB0cnVlLAogICAgICBkb2M6IHsKICAgICAgICBpZDogJ2tleScsCiAgICAgICAgLy8gaGVyZSB5b3UgY2hvb3NlIHRoZSBmaWVsZHMgeW91IHdhbnQgdG8gaW5kZXguCiAgICAgICAgLy8gZm9yIG1lIEkgd2lsbCBzZWFyY2ggaW4gdGhlIHRpdGxlIGFuZCB0aGUgY29udGVudCBvZiBlYWNoIHBhZ2UuCiAgICAgICAgLy8gb2YgY291cnNlIEkgc3RyaXBwZWQgdGhlIGNvbnRlbnQgYmVmb3JlIHNvIEkgdXNlIHRoZSBwbGFpbiB0ZXh0IGNvbnRlbnQgbm90IHRoZSBtYXJrZG93biB0ZXh0CiAgICAgICAgZmllbGQ6IFsndGl0bGUnLCAnaGVhZGVyc1N0cicsICdjb250ZW50J10KICAgICAgfQogICAgfTsKICAgIGluZGV4ID0gbmV3IEZsZXhzZWFyY2goaW5kZXhTZXR0aW5ncyk7CiAgICBpbmRleC5hZGQocGFnZXMpOwogICAgdmFyIGN5cmlsbGljUGFnZXMgPSBwYWdlcy5maWx0ZXIoZnVuY3Rpb24gKHApIHsKICAgICAgcmV0dXJuIHAuY2hhcnNldHMuY3lyaWxsaWM7CiAgICB9KTsKICAgIHZhciBjamtQYWdlcyA9IHBhZ2VzLmZpbHRlcihmdW5jdGlvbiAocCkgewogICAgICByZXR1cm4gcC5jaGFyc2V0cy5jams7CiAgICB9KTsKCiAgICBpZiAoY3lyaWxsaWNQYWdlcy5sZW5ndGgpIHsKICAgICAgY3lyaWxsaWNJbmRleCA9IG5ldyBGbGV4c2VhcmNoKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgaW5kZXhTZXR0aW5ncyksIHt9LCB7CiAgICAgICAgZW5jb2RlOiAnaWNhc2UnLAogICAgICAgIHNwbGl0OiAvXHMrLywKICAgICAgICB0b2tlbml6ZTogJ2ZvcndhcmQnCiAgICAgIH0pKTsKICAgICAgY3lyaWxsaWNJbmRleC5hZGQoY3lyaWxsaWNQYWdlcyk7CiAgICB9CgogICAgaWYgKGNqa1BhZ2VzLmxlbmd0aCkgewogICAgICBjamtJbmRleCA9IG5ldyBGbGV4c2VhcmNoKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgaW5kZXhTZXR0aW5ncyksIHt9LCB7CiAgICAgICAgZW5jb2RlOiBmYWxzZSwKICAgICAgICB0b2tlbml6ZTogZnVuY3Rpb24gdG9rZW5pemUoc3RyKSB7CiAgICAgICAgICB2YXIgY2prV29yZHMgPSBbXTsKICAgICAgICAgIHZhciBtID0gbnVsbDsKCiAgICAgICAgICBkbyB7CiAgICAgICAgICAgIG0gPSBjamtSZWdleC5leGVjKHN0cik7CgogICAgICAgICAgICBpZiAobSkgewogICAgICAgICAgICAgIGNqa1dvcmRzLnB1c2gobVswXSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gd2hpbGUgKG0pOwoKICAgICAgICAgIHJldHVybiBjamtXb3JkczsKICAgICAgICB9CiAgICAgIH0pKTsKICAgICAgY2prSW5kZXguYWRkKGNqa1BhZ2VzKTsKICAgIH0KCiAgICBwYWdlc0J5UGF0aCA9IF8ua2V5QnkocGFnZXMsICdwYXRoJyk7CiAgfSwKICBtYXRjaDogZnVuY3Rpb24gbWF0Y2gocXVlcnlTdHJpbmcsIHF1ZXJ5VGVybXMpIHsKICAgIHZhciBfYXJndW1lbnRzID0gYXJndW1lbnRzOwogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIGxpbWl0LCBzZWFyY2hQYXJhbXMsIHNlYXJjaFJlc3VsdDEsIHNlYXJjaFJlc3VsdDIsIHNlYXJjaFJlc3VsdDMsIHNlYXJjaFJlc3VsdCwgcmVzdWx0LCByZXN1bHRCeVBhcmVudDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGxpbWl0ID0gX2FyZ3VtZW50cy5sZW5ndGggPiAyICYmIF9hcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IF9hcmd1bWVudHNbMl0gOiA3OwogICAgICAgICAgICAgIHNlYXJjaFBhcmFtcyA9IFt7CiAgICAgICAgICAgICAgICBmaWVsZDogJ3RpdGxlJywKICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeVN0cmluZywKICAgICAgICAgICAgICAgIGxpbWl0OiBsaW1pdCwKICAgICAgICAgICAgICAgIGJvb3N0OiAxMAogICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIGZpZWxkOiAnaGVhZGVyc1N0cicsCiAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnlTdHJpbmcsCiAgICAgICAgICAgICAgICBsaW1pdDogbGltaXQsCiAgICAgICAgICAgICAgICBib29zdDogNwogICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIGZpZWxkOiAnY29udGVudCcsCiAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnlTdHJpbmcsCiAgICAgICAgICAgICAgICBsaW1pdDogbGltaXQKICAgICAgICAgICAgICB9XTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gaW5kZXguc2VhcmNoKHNlYXJjaFBhcmFtcyk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgc2VhcmNoUmVzdWx0MSA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgIGlmICghY3lyaWxsaWNJbmRleCkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODsKICAgICAgICAgICAgICByZXR1cm4gY3lyaWxsaWNJbmRleC5zZWFyY2goc2VhcmNoUGFyYW1zKTsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEyOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBfY29udGV4dC50MCA9IFtdOwoKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBzZWFyY2hSZXN1bHQyID0gX2NvbnRleHQudDA7CgogICAgICAgICAgICAgIGlmICghY2prSW5kZXgpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxOTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE2OwogICAgICAgICAgICAgIHJldHVybiBjamtJbmRleC5zZWFyY2goc2VhcmNoUGFyYW1zKTsKCiAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgX2NvbnRleHQudDEgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMDsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgX2NvbnRleHQudDEgPSBbXTsKCiAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgc2VhcmNoUmVzdWx0MyA9IF9jb250ZXh0LnQxOwogICAgICAgICAgICAgIHNlYXJjaFJlc3VsdCA9IF8udW5pcUJ5KFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoc2VhcmNoUmVzdWx0MSksIF90b0NvbnN1bWFibGVBcnJheShzZWFyY2hSZXN1bHQyKSwgX3RvQ29uc3VtYWJsZUFycmF5KHNlYXJjaFJlc3VsdDMpKSwgJ3BhdGgnKTsKICAgICAgICAgICAgICByZXN1bHQgPSBzZWFyY2hSZXN1bHQubWFwKGZ1bmN0aW9uIChwYWdlKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwYWdlKSwge30sIHsKICAgICAgICAgICAgICAgICAgcGFyZW50UGFnZVRpdGxlOiBnZXRQYXJlbnRQYWdlVGl0bGUocGFnZSkKICAgICAgICAgICAgICAgIH0sIGdldEFkZGl0aW9uYWxJbmZvKHBhZ2UsIG5vcm1hbGl6ZVN0cmluZyhxdWVyeVN0cmluZyksIHF1ZXJ5VGVybXMpKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICByZXN1bHRCeVBhcmVudCA9IF8uZ3JvdXBCeShyZXN1bHQsICdwYXJlbnRQYWdlVGl0bGUnKTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBfLnZhbHVlcyhyZXN1bHRCeVBhcmVudCkubWFwKGZ1bmN0aW9uIChhcnIpIHsKICAgICAgICAgICAgICAgIHJldHVybiBhcnIubWFwKGZ1bmN0aW9uICh4LCBpKSB7CiAgICAgICAgICAgICAgICAgIGlmIChpID09PSAwKSByZXR1cm4geDsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgeCksIHt9LCB7CiAgICAgICAgICAgICAgICAgICAgcGFyZW50UGFnZVRpdGxlOiBudWxsCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSkuZmxhdCgpKTsKCiAgICAgICAgICAgIGNhc2UgMjU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBub3JtYWxpemVTdHJpbmc6IG5vcm1hbGl6ZVN0cmluZwp9OwoKZnVuY3Rpb24gZ2V0UGFyZW50UGFnZVRpdGxlKHBhZ2UpIHsKICB2YXIgcGF0aFBhcnRzID0gcGFnZS5wYXRoLnNwbGl0KCcvJyk7CiAgdmFyIHBhcmVudFBhZ2VQYXRoID0gJy8nOwogIGlmIChwYXRoUGFydHNbMV0pIHBhcmVudFBhZ2VQYXRoID0gIi8iLmNvbmNhdChwYXRoUGFydHNbMV0sICIvIik7CiAgdmFyIHBhcmVudFBhZ2UgPSBwYWdlc0J5UGF0aFtwYXJlbnRQYWdlUGF0aF0gfHwgcGFnZTsKICByZXR1cm4gcGFyZW50UGFnZS50aXRsZTsKfQoKZnVuY3Rpb24gZ2V0QWRkaXRpb25hbEluZm8ocGFnZSwgcXVlcnlTdHJpbmcsIHF1ZXJ5VGVybXMpIHsKICB2YXIgcXVlcnkgPSBxdWVyeVN0cmluZy50b0xvd2VyQ2FzZSgpOwogIHZhciBtYXRjaCA9IGdldE1hdGNoKHBhZ2UsIHF1ZXJ5LCBxdWVyeVRlcm1zKTsKICBpZiAoIW1hdGNoKSByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBnZXRGdWxsSGVhZGluZyhwYWdlKSksIHt9LCB7CiAgICBzbHVnOiAnJywKICAgIGNvbnRlbnRTdHI6IG51bGwKICB9KTsKCiAgaWYgKG1hdGNoLmhlYWRlckluZGV4ICE9IG51bGwpIHsKICAgIC8vIGhlYWRlciBtYXRjaAogICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZ2V0RnVsbEhlYWRpbmcocGFnZSwgbWF0Y2guaGVhZGVySW5kZXgsIG1hdGNoKSksIHt9LCB7CiAgICAgIHNsdWc6ICcjJyArIHBhZ2UuaGVhZGVyc1ttYXRjaC5oZWFkZXJJbmRleF0uc2x1ZywKICAgICAgY29udGVudFN0cjogbnVsbAogICAgfSk7CiAgfSAvLyBjb250ZW50IG1hdGNoCgoKICB2YXIgaGVhZGVySW5kZXggPSBfLmZpbmRMYXN0SW5kZXgocGFnZS5oZWFkZXJzIHx8IFtdLCBmdW5jdGlvbiAoaCkgewogICAgcmV0dXJuIGguY2hhckluZGV4ICE9IG51bGwgJiYgaC5jaGFySW5kZXggPCBtYXRjaC5jaGFySW5kZXg7CiAgfSk7CgogIGlmIChoZWFkZXJJbmRleCA9PT0gLTEpIGhlYWRlckluZGV4ID0gbnVsbDsKICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBnZXRGdWxsSGVhZGluZyhwYWdlLCBoZWFkZXJJbmRleCkpLCB7fSwgewogICAgc2x1ZzogaGVhZGVySW5kZXggPT0gbnVsbCA/ICcnIDogJyMnICsgcGFnZS5oZWFkZXJzW2hlYWRlckluZGV4XS5zbHVnCiAgfSwgZ2V0Q29udGVudFN0cihwYWdlLCBtYXRjaCkpOwp9CgpmdW5jdGlvbiBnZXRGdWxsSGVhZGluZyhwYWdlLCBoZWFkZXJJbmRleCwgbWF0Y2gpIHsKICBpZiAoaGVhZGVySW5kZXggPT0gbnVsbCkgcmV0dXJuIHsKICAgIGhlYWRpbmdTdHI6IHBhZ2UudGl0bGUKICB9OwogIHZhciBoZWFkZXJzUGF0aCA9IFtdOwoKICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcCgpIHsKICAgIHZhciBoZWFkZXIgPSBwYWdlLmhlYWRlcnNbaGVhZGVySW5kZXhdOwogICAgaGVhZGVyc1BhdGgudW5zaGlmdChoZWFkZXIpOwogICAgaGVhZGVySW5kZXggPSBfLmZpbmRMYXN0SW5kZXgocGFnZS5oZWFkZXJzLCBmdW5jdGlvbiAoaCkgewogICAgICByZXR1cm4gaC5sZXZlbCA9PT0gaGVhZGVyLmxldmVsIC0gMTsKICAgIH0sIGhlYWRlckluZGV4IC0gMSk7CiAgICBpZiAoaGVhZGVySW5kZXggPT09IC0xKSBoZWFkZXJJbmRleCA9IG51bGw7CiAgfTsKCiAgd2hpbGUgKGhlYWRlckluZGV4ICE9IG51bGwpIHsKICAgIF9sb29wKCk7CiAgfQoKICB2YXIgaGVhZGluZ1N0ciA9IGhlYWRlcnNQYXRoLm1hcChmdW5jdGlvbiAoaCkgewogICAgcmV0dXJuIGgudGl0bGU7CiAgfSkuam9pbignID4gJyk7CiAgdmFyIHByZWZpeFBhdGggPSBoZWFkZXJzUGF0aC5zbGljZSgwLCAtMSk7CiAgdmFyIHByZWZpeExlbmd0aCA9IF8uc3VtKHByZWZpeFBhdGgubWFwKGZ1bmN0aW9uIChwKSB7CiAgICByZXR1cm4gKHAudGl0bGUgfHwgJycpLmxlbmd0aDsKICB9KSkgKyBwcmVmaXhQYXRoLmxlbmd0aCAqIDM7CiAgdmFyIGhlYWRpbmdIaWdobGlnaHQgPSBtYXRjaCAmJiBtYXRjaC5oZWFkZXJJbmRleCAhPSBudWxsICYmIFttYXRjaC5jaGFySW5kZXggKyBwcmVmaXhMZW5ndGgsIG1hdGNoLnRlcm1MZW5ndGhdOwogIHJldHVybiB7CiAgICBoZWFkaW5nU3RyOiBoZWFkaW5nU3RyLAogICAgaGVhZGluZ0hpZ2hsaWdodDogaGVhZGluZ0hpZ2hsaWdodAogIH07Cn0KCmZ1bmN0aW9uIGdldE1hdGNoKHBhZ2UsIHF1ZXJ5LCB0ZXJtcykgewogIHZhciBtYXRjaGVzID0gdGVybXMubWFwKGZ1bmN0aW9uICh0KSB7CiAgICByZXR1cm4gZ2V0SGVhZGVyTWF0Y2gocGFnZSwgdCkgfHwgZ2V0Q29udGVudE1hdGNoKHBhZ2UsIHQpOwogIH0pLmZpbHRlcihmdW5jdGlvbiAobSkgewogICAgcmV0dXJuIG07CiAgfSk7CiAgaWYgKG1hdGNoZXMubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDsKCiAgaWYgKG1hdGNoZXMuZXZlcnkoZnVuY3Rpb24gKG0pIHsKICAgIHJldHVybiBtLmhlYWRlckluZGV4ICE9IG51bGw7CiAgfSkpIHsKICAgIHJldHVybiBnZXRIZWFkZXJNYXRjaChwYWdlLCBxdWVyeSkgfHwgbWF0Y2hlc1swXTsKICB9CgogIHJldHVybiBnZXRDb250ZW50TWF0Y2gocGFnZSwgcXVlcnkpIHx8IG1hdGNoZXMuZmluZChmdW5jdGlvbiAobSkgewogICAgcmV0dXJuIG0uaGVhZGVySW5kZXggPT0gbnVsbDsKICB9KTsKfQoKZnVuY3Rpb24gZ2V0SGVhZGVyTWF0Y2gocGFnZSwgdGVybSkgewogIGlmICghcGFnZS5oZWFkZXJzKSByZXR1cm4gbnVsbDsKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYWdlLmhlYWRlcnMubGVuZ3RoOyBpKyspIHsKICAgIHZhciBoID0gcGFnZS5oZWFkZXJzW2ldOwogICAgdmFyIGNoYXJJbmRleCA9IGgubm9ybWFsaXplZFRpdGxlLmluZGV4T2YodGVybSk7CiAgICBpZiAoY2hhckluZGV4ID09PSAtMSkgY29udGludWU7CiAgICByZXR1cm4gewogICAgICBoZWFkZXJJbmRleDogaSwKICAgICAgY2hhckluZGV4OiBjaGFySW5kZXgsCiAgICAgIHRlcm1MZW5ndGg6IHRlcm0ubGVuZ3RoCiAgICB9OwogIH0KCiAgcmV0dXJuIG51bGw7Cn0KCmZ1bmN0aW9uIGdldENvbnRlbnRNYXRjaChwYWdlLCB0ZXJtKSB7CiAgaWYgKCFwYWdlLm5vcm1hbGl6ZWRDb250ZW50KSByZXR1cm4gbnVsbDsKICB2YXIgY2hhckluZGV4ID0gcGFnZS5ub3JtYWxpemVkQ29udGVudC5pbmRleE9mKHRlcm0pOwogIGlmIChjaGFySW5kZXggPT09IC0xKSByZXR1cm4gbnVsbDsKICByZXR1cm4gewogICAgaGVhZGVySW5kZXg6IG51bGwsCiAgICBjaGFySW5kZXg6IGNoYXJJbmRleCwKICAgIHRlcm1MZW5ndGg6IHRlcm0ubGVuZ3RoCiAgfTsKfQoKZnVuY3Rpb24gZ2V0Q29udGVudFN0cihwYWdlLCBtYXRjaCkgewogIHZhciBzbmlwcGV0TGVuZ3RoID0gMTIwOwogIHZhciBjaGFySW5kZXggPSBtYXRjaC5jaGFySW5kZXgsCiAgICAgIHRlcm1MZW5ndGggPSBtYXRjaC50ZXJtTGVuZ3RoOwogIHZhciBsaW5lU3RhcnRJbmRleCA9IHBhZ2UuY29udGVudC5sYXN0SW5kZXhPZignXG4nLCBjaGFySW5kZXgpOwogIHZhciBsaW5lRW5kSW5kZXggPSBwYWdlLmNvbnRlbnQuaW5kZXhPZignXG4nLCBjaGFySW5kZXgpOwogIGlmIChsaW5lU3RhcnRJbmRleCA9PT0gLTEpIGxpbmVTdGFydEluZGV4ID0gMDsKICBpZiAobGluZUVuZEluZGV4ID09PSAtMSkgbGluZUVuZEluZGV4ID0gcGFnZS5jb250ZW50Lmxlbmd0aDsKICB2YXIgbGluZSA9IHBhZ2UuY29udGVudC5zbGljZShsaW5lU3RhcnRJbmRleCwgbGluZUVuZEluZGV4KTsKICB2YXIgbGluZUNoYXJJbmRleCA9IGNoYXJJbmRleCAtIGxpbmVTdGFydEluZGV4OwogIHZhciBjb250ZW50SGlnaGxpZ2h0ID0gW2xpbmVDaGFySW5kZXgsIHRlcm1MZW5ndGhdOwogIGlmIChzbmlwcGV0TGVuZ3RoID49IGxpbmUubGVuZ3RoKSByZXR1cm4gewogICAgY29udGVudFN0cjogbGluZSwKICAgIGNvbnRlbnRIaWdobGlnaHQ6IGNvbnRlbnRIaWdobGlnaHQKICB9OwoKICB2YXIgYWRkaXRpb25hbENoYXJhY3RlcnNGcm9tU3RhcnQgPSBfLnJvdW5kKChzbmlwcGV0TGVuZ3RoIC0gdGVybUxlbmd0aCkgLyAyKTsKCiAgdmFyIHNuaXBwZXRTdGFydCA9IE1hdGgubWF4KGxpbmVDaGFySW5kZXggLSBhZGRpdGlvbmFsQ2hhcmFjdGVyc0Zyb21TdGFydCwgMCk7CiAgdmFyIHNuaXBwZXRFbmQgPSBNYXRoLm1pbihzbmlwcGV0U3RhcnQgKyBzbmlwcGV0TGVuZ3RoLCBsaW5lLmxlbmd0aCk7CiAgdmFyIGNvbnRlbnRTdHIgPSBsaW5lLnNsaWNlKHNuaXBwZXRTdGFydCwgc25pcHBldEVuZCk7CiAgY29udGVudEhpZ2hsaWdodFswXSA9IGNvbnRlbnRIaWdobGlnaHRbMF0gLSBzbmlwcGV0U3RhcnQ7CgogIGlmIChzbmlwcGV0U3RhcnQgPiAwKSB7CiAgICBjb250ZW50U3RyID0gJy4uLicgKyBjb250ZW50U3RyOwogICAgY29udGVudEhpZ2hsaWdodFswXSA9IGNvbnRlbnRIaWdobGlnaHRbMF0gKyAzOwogIH0KCiAgaWYgKHNuaXBwZXRFbmQgPCBsaW5lLmxlbmd0aCkgY29udGVudFN0ciA9IGNvbnRlbnRTdHIgKyAnLi4uJzsKICByZXR1cm4gewogICAgY29udGVudFN0cjogY29udGVudFN0ciwKICAgIGNvbnRlbnRIaWdobGlnaHQ6IGNvbnRlbnRIaWdobGlnaHQKICB9Owp9CgpmdW5jdGlvbiBub3JtYWxpemVTdHJpbmcoc3RyKSB7CiAgaWYgKCFzdHIpIHJldHVybiBzdHI7CiAgcmV0dXJuIHN0ci50cmltKCkudG9Mb3dlckNhc2UoKS5ub3JtYWxpemUoJ05GRCcpLnJlcGxhY2UoL1tcdTAzMDAtXHUwMzZmXS9nLCAnJyk7Cn0="},null]}