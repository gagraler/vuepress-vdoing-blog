(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{490:function(t,s,a){"use strict";a.r(s);var n=a(19),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"二、hutool部分组件说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、hutool部分组件说明"}},[t._v("#")]),t._v(" 二、HuTool部分组件说明")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("说明")]),t._v(" "),a("p",[t._v("这里只说明几个本人常用及用过的HuTool组件，未列出组件可移步"),a("a",{attrs:{href:"https://hutool.cn/docs",target:"_blank",rel:"noopener noreferrer"}},[t._v("HuTool官网文档查看"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"_2-1-i-o相关"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-i-o相关"}},[t._v("#")]),t._v(" 2.1 I/O相关")]),t._v(" "),a("h3",{attrs:{id:"_2-1-1-文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-1-文件"}},[t._v("#")]),t._v(" 2.1.1 文件")]),t._v(" "),a("h4",{attrs:{id:"_2-1-1-1-文件读取-filereader"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-1-1-文件读取-filereader"}},[t._v("#")]),t._v(" 2.1.1.1 文件读取-FileReader")]),t._v(" "),a("h5",{attrs:{id:"背景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#背景"}},[t._v("#")]),t._v(" 背景")]),t._v(" "),a("p",[t._v("在"),a("code",[t._v("FileUtil")]),t._v("中本来已经针对文件的读操作做了大量的静态封装，但是根据职责分离原则，我觉得有必要针对文件读取单独封装一个类，这样项目更加清晰。当然，使用FileUtil操作文件是最方便的。")]),t._v(" "),a("h5",{attrs:{id:"使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[t._v("#")]),t._v(" 使用")]),t._v(" "),a("p",[t._v("在JDK中，同样有一个FileReader类，但是并不如想象中的那样好用，于是Hutool便提供了更加便捷FileReader类。")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("//默认UTF-8编码，可以在构造中传入第二个参数做为编码\nFileReader fileReader "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" new FileReader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test.properties"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nString result "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" fileReader.readString"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("FileReader提供了以下方法来快速读取文件内容：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("readBytes")])]),t._v(" "),a("li",[a("code",[t._v("readString")])]),t._v(" "),a("li",[a("code",[t._v("readLines")])])]),t._v(" "),a("p",[t._v("同时，此类还提供了以下方法用于转换为流或者BufferedReader：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("getReader")])]),t._v(" "),a("li",[a("code",[t._v("getInputStream")])])]),t._v(" "),a("h4",{attrs:{id:"_2-1-1-2-文件写入-filewriter"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-1-2-文件写入-filewriter"}},[t._v("#")]),t._v(" 2.1.1.2 文件写入-FileWriter")]),t._v(" "),a("p",[t._v("相应的，文件读取有了，自然有文件写入类，使用方式与"),a("code",[t._v("FileReader")]),t._v("也类似：")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("FileWriter writer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" new FileWriter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test.properties"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nwriter.write"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("写入文件分为追加模式和覆盖模式两类，追加模式可以用"),a("code",[t._v("append")]),t._v("方法，覆盖模式可以用"),a("code",[t._v("write")]),t._v("方法，同时也提供了一个write方法，第二个参数是可选覆盖模式。")]),t._v(" "),a("p",[t._v("同样，此类提供了：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("getOutputStream")])]),t._v(" "),a("li",[a("code",[t._v("getWriter")])]),t._v(" "),a("li",[a("code",[t._v("getPrintWriter")])])]),t._v(" "),a("p",[t._v("这些方法用于转换为相应的类提供更加灵活的写入操作。")]),t._v(" "),a("h4",{attrs:{id:"_2-1-1-3-文件追加-fileappender"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-1-3-文件追加-fileappender"}},[t._v("#")]),t._v(" 2.1.1.3 文件追加-FileAppender")]),t._v(" "),a("h5",{attrs:{id:"背景-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#背景-2"}},[t._v("#")]),t._v(" 背景")]),t._v(" "),a("p",[t._v("顾名思义，"),a("code",[t._v("FileAppender")]),t._v("类表示文件追加器。此对象持有一个一个文件，在内存中积累一定量的数据后统一追加到文件，此类只有在写入文件时打开文件，并在写入结束后关闭之。因此此类不需要关闭。")]),t._v(" "),a("p",[t._v("在调用"),a("code",[t._v("append")]),t._v("方法后会缓存于内存，只有超过容量后才会一次性写入文件，因此内存中随时有剩余未写入文件的内容，在最后必须调用flush方法将剩余内容刷入文件。")]),t._v(" "),a("p",[t._v("也就是说，这是一个支持缓存的文件内容追加器。此类主要用于类似于日志写出这类需求所用。")]),t._v(" "),a("h5",{attrs:{id:"使用-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-2"}},[t._v("#")]),t._v(" 使用")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("FileAppender appender "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" new FileAppender"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("file, "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),t._v(", "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nappender.append"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"123"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nappender.append"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"abc"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nappender.append"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xyz"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nappender.flush"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nappender.toString"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("h4",{attrs:{id:"_2-1-1-4-文件跟随-tailer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-1-4-文件跟随-tailer"}},[t._v("#")]),t._v(" 2.1.1.4 文件跟随-Tailer")]),t._v(" "),a("h5",{attrs:{id:"背景-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#背景-3"}},[t._v("#")]),t._v(" 背景")]),t._v(" "),a("p",[t._v("有时候我们要启动一个线程实时“监控”文件的变化，比如有新内容写出到文件时，我们可以及时打印出来，这个功能非常类似于Linux下的"),a("code",[t._v("tail -f")]),t._v("命令。")]),t._v(" "),a("h5",{attrs:{id:"使用-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-3"}},[t._v("#")]),t._v(" 使用")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("Tailer tailer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" new Tailer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("FileUtil.file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"f:/test/test.log"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", Tailer.CONSOLE_HANDLER, "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ntailer.start"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("其中"),a("code",[t._v("Tailer.CONSOLE_HANDLER")]),t._v("表示文件新增内容默认输出到控制台。")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("/**\n * 命令行打印的行处理器\n * \n * @author 许怀安\n * @since "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.5")]),t._v(".2\n */\npublic static class ConsoleLineHandler implements LineHandler "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    @Override\n    public void handle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("String line"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        Console.log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("line"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br")])]),a("p",[t._v("我们也可以实现自己的LineHandler来处理每一行数据。")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),a("p",[t._v("此方法会阻塞当前线程")])]),t._v(" "),a("h4",{attrs:{id:"_2-1-1-5-文件名工具-filenameutil"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-1-5-文件名工具-filenameutil"}},[t._v("#")]),t._v(" 2.1.1.5 文件名工具-FileNameUtil")]),t._v(" "),a("h5",{attrs:{id:"背景-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#背景-4"}},[t._v("#")]),t._v(" 背景")]),t._v(" "),a("p",[t._v("文件名操作工具类，主要针对文件名获取主文件名、扩展名等操作，同时针对Windows平台，清理无效字符。")]),t._v(" "),a("p",[t._v("此工具类在5.4.1之前是"),a("code",[t._v("FileUtil")]),t._v("的一部分，后单独剥离"),a("code",[t._v("为FileNameUtil")]),t._v("工具。")]),t._v(" "),a("h5",{attrs:{id:"使用-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-4"}},[t._v("#")]),t._v(" 使用")]),t._v(" "),a("p",[t._v("获取文件名")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("File "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" FileUtil.file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/opt/test.txt"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n// test.txt\nString name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" FileNameUtil.getName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("p",[t._v("获取主文件名和扩展名")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("File "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" FileUtil.file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/opt/test.txt"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n// "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test"')]),t._v("\nString name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" FileNameUtil.mainName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n// "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"txt"')]),t._v("\nString name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" FileNameUtil.extName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),a("p",[t._v("此处获取的扩展名不带"),a("code",[t._v(".")]),t._v("。 "),a("code",[t._v("FileNameUtil.mainName")]),t._v("和"),a("code",[t._v("FileNameUtil.getPrefix")]),t._v("等价，同理"),a("code",[t._v("FileNameUtil.extName")]),t._v("和"),a("code",[t._v("FileNameUtil.getSuffix")]),t._v("等价，保留两个方法用于适应不同用户的习惯。")])]),t._v(" "),a("h2",{attrs:{id:"_2-2-注解工具-annotationutil"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-注解工具-annotationutil"}},[t._v("#")]),t._v(" 2.2 注解工具-AnnotationUtil")]),t._v(" "),a("h3",{attrs:{id:"介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[t._v("#")]),t._v(" 介绍")]),t._v(" "),a("p",[t._v("封装了注解获取等方法的工具类。")]),t._v(" "),a("h3",{attrs:{id:"使用-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-5"}},[t._v("#")]),t._v(" 使用")]),t._v(" "),a("h4",{attrs:{id:"方法介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方法介绍"}},[t._v("#")]),t._v(" 方法介绍")]),t._v(" "),a("p",[a("strong",[t._v("1).")]),t._v(" 注解获取相关方法：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("getAnnotations")]),t._v(" 获取指定类、方法、字段、构造等上的注解列表")]),t._v(" "),a("li",[a("code",[t._v("getAnnotation")]),t._v(" 获取指定类型注解")]),t._v(" "),a("li",[a("code",[t._v("getAnnotationValue")]),t._v(" 获取指定注解属性的值")])]),t._v(" "),a("p",[t._v("例：")]),t._v(" "),a("p",[t._v("我们定义一个注解：")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("// Retention注解决定MyAnnotation注解的生命周期\n@Retention"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("RetentionPolicy.RUNTIME"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n// Target注解决定MyAnnotation注解可以加在哪些成分上，如加在类身上，或者属性身上，或者方法身上等成分\n@Target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" ElementType.METHOD, ElementType.TYPE "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\npublic @interface AnnotationForTest "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \n    /**\n     * 注解的默认属性值\n     * \n     * @return 属性值\n     */\n    String value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br")])]),a("p",[t._v("给需要的类加上注解：")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("@AnnotationForTest"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"测试"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\npublic static class ClassWithAnnotation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("p",[t._v("获取注解中的值：")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("// value为"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"测试"')]),t._v("\nObject value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" AnnotationUtil.getAnnotationValue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ClassWithAnnotation.class, AnnotationForTest.class"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[a("strong",[t._v("2).")]),t._v(" 注解属性获取相关方法：\ngetRetentionPolicy 获取注解类的保留时间，可选值 SOURCE（源码时），CLASS（编译时），RUNTIME（运行时），默认为 CLASS")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("getTargetType")]),t._v(" 获取注解类可以用来修饰哪些程序元素，如 TYPE, METHOD, CONSTRUCTOR, FIELD, PARAMETER 等")]),t._v(" "),a("li",[a("code",[t._v("isDocumented")]),t._v(" 是否会保存到 Javadoc 文档中")]),t._v(" "),a("li",[a("code",[t._v("isInherited")]),t._v(" 是否可以被继承，默认为 false")])]),t._v(" "),a("p",[t._v("更多方法见"),a("a",{attrs:{href:"https://apidoc.gitee.com/loolly/hutool/cn/hutool/core/annotation/AnnotationUtil.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("API文档"),a("OutboundLink")],1)]),t._v(" "),a("h1",{attrs:{id:"参考链接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考链接"}},[t._v("#")]),t._v(" 参考链接")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://hutool.cn",target:"_blank",rel:"noopener noreferrer"}},[t._v("HuTool"),a("OutboundLink")],1)]),t._v(" "),a("blockquote",[a("p",[t._v("本文作者："),a("a",{attrs:{href:"https://dbsecurity.com.cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("许怀安"),a("OutboundLink")],1),t._v(" "),a("br"),t._v("创作时间：2022.01.26\n"),a("br"),t._v("版权声明：本博客所有文章除特别声明外，均采用"),a("a",{attrs:{href:"https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh",target:"_blank",rel:"noopener noreferrer"}},[t._v("BY-NC-SA"),a("OutboundLink")],1),t._v("许可协议。转载请禀明出处！")])])])}),[],!1,null,null,null);s.default=e.exports}}]);